// 函数: sub_496170
// 地址: 0x496170
// 来自: E:\Download\CYZD_GALGAME_PACKAGE\CLANNAD\SiglusEngine_Steam.exe

if (arg1 == 0 || arg2 s<= 0)
    return 

BOOL eax

if (data_20740bc != 0)
    void* ecx = data_20740c4
    eax = data_20740c8 + arg2
    
    if (ecx s<= eax)
        void* eax_4 = ecx + 0x100000 + arg2
        data_20740c4 = eax_4
        eax = sub_4d6ae0(eax_4, &data_20740c0, &data_20740bc, eax_4)
else
    data_20740c4 = arg2 + 0x100000
    eax =
        sub_4d6960(arg2 + 0x100000, &data_20740c0, &data_20740bc, arg2 + 0x100000, "avg_save_stack")

sub_4d1c30(eax, arg1, data_20740c0 + data_20740c8, arg2)
data_20740c8 += arg2
